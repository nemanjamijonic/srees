<div class="layout-container">
  <!-- Sidebar -->
  <aside class="sidebar" [class.sidebar-open]="isSidebarOpen">
    <div class="sidebar-header">
      <h3>SREES</h3>
      <button class="close-btn" (click)="toggleSidebar()">Ã—</button>
    </div>
    
    <nav class="sidebar-nav">
      <ul>
        <li><a routerLink="/dashboard" routerLinkActive="active">Dashboard</a></li>
        <li><a routerLink="/network-map" routerLinkActive="active">Network Map</a></li>
        <li><a routerLink="/outages" routerLinkActive="active">Outages</a></li>
        <li class="submenu-item">
          <a href="#" (click)="toggleSubmenu($event)">CRUD</a>
          <ul class="submenu" [class.submenu-open]="isCrudOpen">
            <li><a routerLink="/crud/buildings" routerLinkActive="active">Buildings</a></li>
            <li><a routerLink="/crud/customers" routerLinkActive="active">Customers</a></li>
            <li><a routerLink="/crud/feeders" routerLinkActive="active">Feeders</a></li>
            <li><a routerLink="/crud/poles" routerLinkActive="active">Poles</a></li>
            <li><a routerLink="/crud/regions" routerLinkActive="active">Regions</a></li>
            <li><a routerLink="/crud/substations" routerLinkActive="active">Substations</a></li>
            <li><a routerLink="/crud/users" routerLinkActive="active">Users</a></li>
          </ul>
        </li>
        <li *ngIf="userRole === 'admin'"><a routerLink="/admin/network" routerLinkActive="active">Network Management</a></li>
        <li *ngIf="userRole === 'admin'"><a routerLink="/admin/users" routerLinkActive="active">User Management</a></li>
        <li><a routerLink="/history" routerLinkActive="active">History</a></li>
        <li><a href="#" (click)="logout()">Logout</a></li>
      </ul>
    </nav>
  </aside>

  <!-- Overlay for mobile -->
  <div class="sidebar-overlay" 
       [class.overlay-active]="isSidebarOpen" 
       (click)="toggleSidebar()"></div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Header -->
    <header class="header">
      <button class="menu-btn" (click)="toggleSidebar()">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <h1>SREES Application</h1>
      <div class="user-info">
        <span>{{ username }}</span>
      </div>
    </header>

    <!-- Content Area -->
    <main class="content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>